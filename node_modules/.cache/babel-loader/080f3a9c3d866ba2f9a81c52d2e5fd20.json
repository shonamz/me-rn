{"ast":null,"code":"var _jsxFileName = \"/Users/anabella/Desktop/ramona/src/components/MainComponent.js\";\nimport React, { Component } from 'react';\nimport Menu from './MenuComponent';\nimport DishDetail from './DishDetailComponent';\nimport Header from './HeaderComponent';\nimport Footer from './FooterComponent';\nimport Home from './HomeComponent';\nimport Contact from './ContactComponent';\nimport About from './AboutComponent';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { actions } from 'react-redux-form';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport Favorites from './FavoriteComponent';\nimport { postComment, postFeedback, fetchDishes, fetchComments, fetchPromos, fetchLeaders, loginUser, logoutUser, registerUser, fetchFavorites, postFavorite, deleteFavorite, loginUserFacebook } from '../redux/ActionCreators';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  return {\n    dishes: state.dishes,\n    comments: state.comments,\n    promotions: state.promotions,\n    leaders: state.leaders,\n    favorites: state.favorites,\n    auth: state.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  postComment: (dishId, rating, comment) => dispatch(postComment(dishId, rating, comment)),\n  fetchDishes: () => {\n    dispatch(fetchDishes());\n  },\n  resetFeedbackForm: () => {\n    dispatch(actions.reset('feedback'));\n  },\n  fetchComments: () => {\n    dispatch(fetchComments());\n  },\n  fetchPromos: () => {\n    dispatch(fetchPromos());\n  },\n  fetchLeaders: () => dispatch(fetchLeaders()),\n  postFeedback: feedback => dispatch(postFeedback(feedback)),\n  loginUser: creds => dispatch(loginUser(creds)),\n  loginUserFacebook: () => dispatch(loginUserFacebook()),\n  registerUser: creds => dispatch(registerUser(creds)),\n  logoutUser: () => dispatch(logoutUser()),\n  fetchFavorites: () => dispatch(fetchFavorites()),\n  postFavorite: dishId => dispatch(postFavorite(dishId)),\n  deleteFavorite: dishId => dispatch(deleteFavorite(dishId))\n});\n\nclass Main extends Component {\n  componentDidMount() {\n    this.props.fetchDishes();\n    this.props.fetchComments();\n    this.props.fetchPromos();\n    this.props.fetchLeaders();\n    this.props.fetchFavorites();\n  }\n\n  render() {\n    const HomePage = () => {\n      return /*#__PURE__*/_jsxDEV(Home, {\n        dish: this.props.dishes.dishes.filter(dish => dish.featured)[0],\n        dishesLoading: this.props.dishes.isLoading,\n        dishesErrMess: this.props.dishes.errMess,\n        promotion: this.props.promotions.promotions.filter(promo => promo.featured)[0],\n        promosLoading: this.props.promotions.isLoading,\n        promosErrMess: this.props.promotions.errMess,\n        leader: this.props.leaders.leaders.filter(leader => leader.featured)[0],\n        leaderLoading: this.props.leaders.isLoading,\n        leaderErrMess: this.props.leaders.errMess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this);\n    };\n\n    const DishWithId = ({\n      match\n    }) => {\n      if (this.props.favorites.favorites !== '' && this.props.favorites.favorites !== null) {\n        console.log(\"here\");\n        if (Array.isArray(this.props.favorites.favorites)) this.props.favorites.favorites = this.props.favorites.favorites[0];\n        console.log(\"here 2\");\n        console.log(this.props.favorites.favorites);\n      }\n\n      return this.props.auth.isAuthenticated && !this.props.favorites.isLoading && this.props.favorites.favorites !== '' && this.props.favorites.favorites != null ? /*#__PURE__*/_jsxDEV(DishDetail, {\n        dish: this.props.dishes.dishes.filter(dish => dish._id === match.params.dishId)[0],\n        isLoading: this.props.dishes.isLoading,\n        errMess: this.props.dishes.errMess,\n        comments: this.props.comments.comments.filter(comment => comment.dish === match.params.dishId),\n        commentsErrMess: this.props.comments.errMess,\n        postComment: this.props.postComment,\n        favorite: this.props.favorites.favorites.dishes.some(dish => dish._id === match.params.dishId),\n        postFavorite: this.props.postFavorite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this) : /*#__PURE__*/_jsxDEV(DishDetail, {\n        dish: this.props.dishes.dishes.filter(dish => dish._id === match.params.dishId)[0],\n        isLoading: this.props.dishes.isLoading,\n        errMess: this.props.dishes.errMess,\n        comments: this.props.comments.comments.filter(comment => comment.dish === match.params.dishId),\n        commentsErrMess: this.props.comments.errMess,\n        postComment: this.props.postComment,\n        favorite: false,\n        postFavorite: this.props.postFavorite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this);\n    };\n\n    const PrivateRoute = ({\n      component: Component,\n      ...rest\n    }) => /*#__PURE__*/_jsxDEV(Route, { ...rest,\n      render: props => this.props.auth.isAuthenticated ? /*#__PURE__*/_jsxDEV(Component, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/home',\n          state: {\n            from: props.location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        auth: this.props.auth,\n        loginUser: this.props.loginUser,\n        logoutUser: this.props.logoutUser,\n        loginUserFacebook: this.props.loginUserFacebook,\n        registerUser: this.props.registerUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TransitionGroup, {\n        children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n          classNames: \"page\",\n          timeout: 300,\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/home\",\n              component: HomePage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/aboutus\",\n              component: () => /*#__PURE__*/_jsxDEV(About, {\n                leaders: this.props.leaders\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/menu\",\n              component: () => /*#__PURE__*/_jsxDEV(Menu, {\n                dishes: this.props.dishes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/menu/:dishId\",\n              component: DishWithId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              exact: true,\n              path: \"/favorites\",\n              component: () => /*#__PURE__*/_jsxDEV(Favorites, {\n                favorites: this.props.favorites,\n                deleteFavorite: this.props.deleteFavorite\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 68\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/contactus\",\n              component: () => /*#__PURE__*/_jsxDEV(Contact, {\n                resetFeedbackForm: this.props.resetFeedbackForm,\n                postFeedback: this.props.postFeedback\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this)\n        }, this.props.location.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));","map":{"version":3,"sources":["/Users/anabella/Desktop/ramona/src/components/MainComponent.js"],"names":["React","Component","Menu","DishDetail","Header","Footer","Home","Contact","About","Switch","Route","Redirect","withRouter","connect","actions","TransitionGroup","CSSTransition","Favorites","postComment","postFeedback","fetchDishes","fetchComments","fetchPromos","fetchLeaders","loginUser","logoutUser","registerUser","fetchFavorites","postFavorite","deleteFavorite","loginUserFacebook","mapStateToProps","state","dishes","comments","promotions","leaders","favorites","auth","mapDispatchToProps","dispatch","dishId","rating","comment","resetFeedbackForm","reset","feedback","creds","Main","componentDidMount","props","render","HomePage","filter","dish","featured","isLoading","errMess","promo","leader","DishWithId","match","console","log","Array","isArray","isAuthenticated","_id","params","some","PrivateRoute","component","rest","pathname","from","location","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Menu from './MenuComponent';\nimport DishDetail from './DishDetailComponent';\nimport Header from './HeaderComponent';\nimport Footer from './FooterComponent';\nimport Home from './HomeComponent';\nimport Contact from './ContactComponent';\nimport About from './AboutComponent';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { actions } from 'react-redux-form';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport Favorites from './FavoriteComponent';\nimport { postComment, postFeedback, fetchDishes, fetchComments, fetchPromos, fetchLeaders, loginUser, logoutUser,registerUser, fetchFavorites, postFavorite, deleteFavorite, loginUserFacebook } from '../redux/ActionCreators';\n  \n \n\nconst mapStateToProps = state => {\n  return {\n    dishes: state.dishes,\n    comments: state.comments,\n    promotions: state.promotions,\n    leaders: state.leaders,\n    favorites: state.favorites,\n    auth: state.auth\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\npostComment: (dishId, rating, comment) => dispatch(postComment(dishId, rating, comment)),\nfetchDishes: () => {dispatch(fetchDishes())},\nresetFeedbackForm: () => { dispatch(actions.reset('feedback'))},\nfetchComments: () => {dispatch(fetchComments())},\nfetchPromos: () => {dispatch(fetchPromos())},\nfetchLeaders: () => dispatch(fetchLeaders()),\npostFeedback: (feedback) => dispatch(postFeedback(feedback)),\nloginUser: (creds) => dispatch(loginUser(creds)),\nloginUserFacebook:()=>dispatch(loginUserFacebook()),\nregisterUser: (creds) => dispatch(registerUser(creds)),\nlogoutUser: () => dispatch(logoutUser()),\nfetchFavorites: () => dispatch(fetchFavorites()),\npostFavorite: (dishId) => dispatch(postFavorite(dishId)),\ndeleteFavorite: (dishId) => dispatch(deleteFavorite(dishId))\n});\n\nclass Main extends Component {\n\ncomponentDidMount() {\n  this.props.fetchDishes();\n  this.props.fetchComments();\n  this.props.fetchPromos();\n  this.props.fetchLeaders();\n  this.props.fetchFavorites();\n}\n\nrender() {\n\n  const HomePage = () => {\n    return(\n      <Home dish={this.props.dishes.dishes.filter((dish) => dish.featured)[0]}\n        dishesLoading={this.props.dishes.isLoading}\n        dishesErrMess={this.props.dishes.errMess}\n        promotion={this.props.promotions.promotions.filter((promo) => promo.featured)[0]}\n        promosLoading={this.props.promotions.isLoading}\n        promosErrMess={this.props.promotions.errMess}\n        leader={this.props.leaders.leaders.filter((leader) => leader.featured)[0]}\n        leaderLoading={this.props.leaders.isLoading}\n        leaderErrMess={this.props.leaders.errMess}\n      />\n    );\n  }\n\n  const DishWithId = ({match}) => {\n    if(this.props.favorites.favorites!=='' && this.props.favorites.favorites!== null ){\n      console.log(\"here\");\n    if(Array.isArray(this.props.favorites.favorites))\n    this.props.favorites.favorites=this.props.favorites.favorites[0];\n     console.log(\"here 2\")\n     console.log(this.props.favorites.favorites)\n    }\n    return(\n    (this.props.auth.isAuthenticated && !this.props.favorites.isLoading && this.props.favorites.favorites!=='' && this.props.favorites.favorites!= null )\n    ?\n    <DishDetail dish={this.props.dishes.dishes.filter((dish) => dish._id === match.params.dishId)[0]}\n    isLoading={this.props.dishes.isLoading}\n    errMess={this.props.dishes.errMess}\n    comments={this.props.comments.comments.filter((comment) => comment.dish === match.params.dishId)}\n    commentsErrMess={this.props.comments.errMess}\n    postComment={this.props.postComment}\n    favorite={this.props.favorites.favorites.dishes.some((dish) => dish._id === match.params.dishId)}\n    postFavorite={this.props.postFavorite}\n    />\n    :\n    <DishDetail dish={this.props.dishes.dishes.filter((dish) => dish._id === match.params.dishId)[0]}\n    isLoading={this.props.dishes.isLoading}\n    errMess={this.props.dishes.errMess}\n    comments={this.props.comments.comments.filter((comment) => comment.dish === match.params.dishId)}\n    commentsErrMess={this.props.comments.errMess}\n    postComment={this.props.postComment}\n    favorite={false}\n    postFavorite={this.props.postFavorite}\n    />\n    );\n    }\n\n  const PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={(props) => (\n      this.props.auth.isAuthenticated\n        ? <Component {...props} />\n        : <Redirect to={{\n            pathname: '/home',\n            state: { from: props.location }\n          }} />\n    )} />\n  );\n\n  return (\n    <div>\n      <Header auth={this.props.auth} \n        loginUser={this.props.loginUser} \n        logoutUser={this.props.logoutUser}\n        loginUserFacebook={this.props.loginUserFacebook}\n        registerUser={this.props.registerUser}\n        />   \n      <TransitionGroup>\n        <CSSTransition key={this.props.location.key} classNames=\"page\" timeout={300}>\n          <Switch>\n            <Route path=\"/home\" component={HomePage} />\n            <Route exact path='/aboutus' component={() => <About leaders={this.props.leaders} />} />\n            <Route exact path=\"/menu\" component={() => <Menu dishes={this.props.dishes} />} />\n            <Route path=\"/menu/:dishId\" component={DishWithId} />\n            <PrivateRoute exact path=\"/favorites\" component={() => <Favorites favorites={this.props.favorites} deleteFavorite={this.props.deleteFavorite} />} />\n            <Route exact path=\"/contactus\" component={() => <Contact resetFeedbackForm={this.props.resetFeedbackForm} postFeedback={this.props.postFeedback} />} />\n            <Redirect to=\"/home\" />\n          </Switch>\n        </CSSTransition>\n      </TransitionGroup>\n      <Footer />\n    </div>\n  );\n}\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));\n"]},"metadata":{},"sourceType":"module"}